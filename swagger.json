{
  "definition": {
    "openapi": "3.0.3",
    "info": {
      "title": "REST API DOCS",
      "version": "1.0.0",
      "description": "Contacts service API DOCS"
    },
    "servers": [
      {
        "url": "http://localhost:3000",
        "description": "Development  server"
      },
      {
        "url": "https://contacts-service-v-2.onrender.com",
        "description": "Production  server"
      }
    ],
    "consumes": ["application/json", "multipart/form-data"],
    "produces": ["application/json"],
    "tags": [
      {
        "name": "Auth",
        "description": "Authorization endpoint"
      },
      {
        "name": "Contacts",
        "description": "Contacts operations endpoint"
      }
    ],

    "paths": {
      "/": {
        "get": {
          "parameters": [],
          "tags": ["Contacts"],
          "summary": "Get all contacts",
          "description": "Returns all contacts from the system that the user has access to",
          "responses": {
            "200": {
              "description": "A list of contacts.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "items": {
                      "$ref": "#/schemas/getContacs"
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": ["Contacts"],
          "summary": "Create a new contact",
          "security": [
            {
              "Bearer": []
            }
          ],
          "requestBody": {
            "description": "Create object",
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateContactRequest"
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Contact successfully created",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/CreateContactResponse"
                  }
                }
              }
            },
            "400": {
              "description": "Bad request",
              "content": {
                "application/json": {
                  "$ref": "#/components/schemas/CreateContactBadRequestError"
                }
              }
            },
            "409": {
              "description": "Duplicate key",
              "content": {}
            }
          }
        },
        "patch": {
          "tags": ["Auth"],
          "summary": "Update user subscription",
          "description": "Update user subscription"
        }
      },
      "/avatars": {
        "patch": {
          "tags": ["Auth"],
          "summary": "Update user avatar",
          "description": "Update user avatar"
        }
      },
      "/:contactId": {
        "get": {
          "tags": ["Contacts"],
          "description": "fkkfk",
          "summary": "Get contacts by Id",
          "responses": {
            "200": {
              "description": "A list of pets.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "/models/Contact.ts"
                    }
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": ["Contacts"],
          "summary": "Delete contact",
          "description": "Delete contact"
        }
      },
      "/:contactId/favorite": {
        "patch": {
          "tags": ["Contacts"],
          "summary": "Update contact"
        }
      },
      "/signup": {
        "post": {
          "tags": ["Auth"],
          "summary": "Signup user"
        }
      },
      "/signin": {
        "post": {
          "tags": ["Auth"],
          "summary": "Signin user"
        }
      },
      "/current": {
        "get": {
          "tags": ["Auth"],
          "summary": "Get current user"
        }
      },
      "/verify/:verificationToken": {
        "get": {
          "tags": ["Auth"],
          "summary": "Verification letter for user email"
        }
      },
      "/verify": {
        "get": {
          "tags": ["Auth"],
          "summary": "Repead user verify"
        }
      },
      "/signout": {
        "get": {
          "tags": ["Auth"],
          "summary": "Signout user"
        }
      }
    },
    "components": {
      "securitySchemas": {
        "bearerAuth": {
          "type": "http",
          "schema": "bearer",
          "bearerFormat": "JWT"
        }
      },
      "schemas": {
        "CreateContactRequest": {
          "type": "object",
          "required": ["name", "email", "phone", "avatar"],
          "properties": {
            "name": {
              "type": "string",
              "description": "Contact`s name"
            },
            "email": {
              "type": "string",
              "description": "Contact`s email",
              "format": "email"
            },
            "phone": {
              "type": "number",
              "description": "Contact`s phone number"
            },
            "avatar": {
              "type": "string",
              "format": "binary",
              "description": "Contact`s avatar"
            },

            "favorite": {
              "type": "boolean",
              "description": "Is contact favorite",
              "default": false
            }
          }
        },
        "CreateContactResponse": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Contact`s name"
            },
            "email": {
              "type": "string",
              "description": "Contact`s email"
            },
            "phone": {
              "type": "string",
              "description": "Contact`s phone"
            },
            "favorite": {
              "type": "boolean"
            },
            "avatar": {
              "type": "string",
              "description": "Contact`s avatar"
            },
            "owner": {
              "type": "string",
              "description": "Contact`s owner"
            },
            "_id": {
              "type": "string",
              "description": "Contact`s _id"
            },
            "createdAt": {
              "type": "string",
              "format": "date",
              "description": "createdAt"
            },
            "updatedAt": {
              "type": "string",
              "format": "date",
              "description": "updatedAt"
            }
          }
        },
        "CreateContactBadRequestError": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "description": "Required"
            }
          }
        }
      }
    }
  },
  "apis": [
    "./routes/api/auth-contacts-router.ts",
    "./models/Contact.ts",
    "./routes/api/contacts-router.ts",
    "./models/User.ts"
  ]
}
